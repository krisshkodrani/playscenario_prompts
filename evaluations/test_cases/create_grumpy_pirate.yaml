# Test Case: Create a Grumpy Pirate Character

agent: "character_helper"
factory_method: "build_prompt_create"

# We'll map this to a specific model in our agents.yaml
# For this test, let's assume 'character_helper_create' maps to 'gemini_flash_strict'
model: "gemini_flash_strict"

# The strongly-typed Pydantic request object
inputs:
  user_request: |
    Create a character with the following attributes:
    - Role: A grumpy, old pirate who has lost his treasure.
    - Personality: Cynical, sarcastic, but with a hidden heart of gold. Hates parrots.
    - Background: Was once the most feared pirate on the seven seas, but was betrayed by his first mate. Now lives in exile, searching for his stolen treasure.
    - Expertise: Expert swordsman, master navigator, terrible singer.
    - Goal: Find his treasure, get revenge on his first mate, and retire to a quiet island.
    - Other: Has a pet crab named 'Pinchy'.


# List of assertions to run on the LLM's response
assertions:
  - type: "is_valid_pydantic_schema"
    schema: "ChainOfThoughtCharacterSchema"

  - type: "ai_critique"
    prompt_path: "evaluations/critique_prompts/check_creativity_scored.txt"
    critique_model: "gemini_flash_strict"
    thresholds:
      creativity: 5
      depth: 5
      originality: 5
